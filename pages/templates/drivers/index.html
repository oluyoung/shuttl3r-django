{% extends 'pages/base.html' %}
{% load staticfiles  %}
{% block stylesheet %}
<link rel="stylesheet" href="{% static 'css/drivers-styles.css' %}">
{% endblock %}
{% block content %}
<section class="container drivers-container" id="driver-index-container">
  <nav class="filters"></nav>
  <section class="wrap drivers-wrap" style="background:url({% static 'img/bgnoise_lg_@2X.png' %})">
    {% for driver in drivers %}
      <div class="driver-license flex row-wrap just-between pos-rel driver-{{driver.id}}" style="background:url({% static 'img/topography.png' %})">
        <!-- <img src="{% static 'img/tack-red.png' %}" class="thumb-tack" /> -->
        <div class="title"><h4 class="text-align-center">FREEHAND DEPT. OF MOTOR VEHICLES</h4></div>
        <div class="image" style="background-image: url({{driver.image.url}}})"></div>
        <div class="info">
          <p class="name">{{driver.last_name}}, {{driver.first_name}}</p>
          <p class="type"><span class="key">CLASS</span> {{driver.category}}</p>
          <p class="type"><span class="key">Av.</span> {% if driver.isAvailable %}Yes{%else%}No{% endif %}</p>
          <p class="type"><span class="key">FF</span> {{driver.nextAvailibility}}</p>
          <a href="#driver-{{driver.id}}" class="view-btn text-align-center block" data-id={{driver.id}} data-name="{{driver.last_name}}, {{driver.first_name}}" data-cat="{{driver.category}}">VIEW</a>
        </div>
      </div>
      <section class="driver-sheet mfp-hide" id="driver-{{driver.id}}">
        <div class="driver flex row-wrap just-start">
          <div class="top-info flex row-nowrap">
            <div class="driver-photo">
              <img class="driver-photo_id" src="https://jamesgilberdphotography.weebly.com/uploads/1/3/6/5/13650410/emma-not-smiling-35x45_1_orig.jpg">
            </div>
            <div class="driver-info">
              <table>
                <tr>
                  <th class="key">Name</th>
                  <td>{{driver.last_name}}, {{driver.first_name}}</td>
                </tr>
                <tr>
                  <th class="key">Class</th>
                  <td>{{driver.category}}</td>
                </tr>
                <tr>
                  <th class="key">Av.</th>
                  <td>{% if driver.isAvailable %}Yes{%else%}No{% endif %}</td>
                </tr>
                <tr>
                  <th class="key">FF</th>
                  <td>{% if driver.isAvailable %}{%else%}{{driver.nextAvailibility}}{% endif %}</td>
                </tr>
              </table>
            </div>
          </div>
          <div class="order-form driver-order-form">
            
            <form action="" class="form flex col-wrap">
              <div class="text-align-center">
                <h3>To make a request just fill the form below</h3>
              </div>
              {% csrf_token %}
              <input type="hidden" name="driver_id" value="{{driver.id}}">
              <input type="hidden" name="user_id" value="20">
              <div class="flex col-nowrap">
                <label for="first-name" class="none">First Name</label>
                <input type="text" id="first-name" name="first_name" placeholder="First Name">
              </div>
              <div class="flex col-nowrap">
                <label for="last-name" class="none">Last Name</label>
                <input type="text" id="last-name" name="last_name" placeholder="Last Name">    
              </div>
              <div class="flex row-wrap just-between">
                <div class="half-width">
                  <label for="phone-num" class="none">Phone Number</label>
                  <input type="tel" id="phone-num" name="phone_num" placeholder="Phone Number" maxlength=11>   
                </div>
                <div class="flex row-wrap just-start align-flex-center half-width" style="margin-top:-15px;">
                  <label for="within">Leaving Lagos?</label>
                  <input type="checkbox" id="within" name="within_lagos" hidden>
                  <a href="#" class="choose-btn yes">YES</a><a href="#" class="choose-btn no">NO</a>
                </div>
              </div>
              <div class="flex row-wrap just-between">
                <div class="half-width">
                  <label for="start-date">Start Date</label>
                  <input type="date" id="start-date" name="start_date">
                </div>
                <div class="half-width">
                  <label for="end-date">End Date</label>
                  <input type="date" id="end-date" name="end_date">
                </div>
              </div>
              
              <div class="flex col-nowrap">
                <label for="pickup-addr" class="none">Address</label>
                <input type="text" id="pickup-addr" name="pickup_addr" placeholder="Address">
              </div>
              <input type="submit" class="submit-btn" />
            </form>
          </div>
        </div>
      </section>
    {% endfor %}
    
  </section>
</section>
{% endblock %}